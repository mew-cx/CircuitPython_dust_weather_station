=============================================================================
Start/Stop the SPS30 (run for 30 seconds before recording a measurement.)

Start/Stop socket

Start/Stop wifi connection?

unpower D13 led, external i2c power.  disable board.NEOPIXEL_POWER

use watchdog to ensure running?

use deep sleep to save power?  sleep the SPS30

check on mpl read protocol, to ensure it doesn't block.

TODO what other shutdown tasks?
TODO prepare to sleep
TODO wake up from sleep
TODO periodic fan cleaning

in the header:
    board.board_id
    CPy version
    microcontroller_id
    dust version

what's a good way to generate build_timestamp (date, g desc)
=============================================================================

>>> import microcontroller
>>> dir(microcontroller)
['__class__', '__name__', 'Pin', 'Processor', 'ResetReason', 'RunMode', 'cpu', 'delay_us', 'disable_interrupts', 'enable_interrupts', 'nvm', 'on_next_reset', 'pin', 'reset', 'watchdog']

>>> dir(microcontroller.watchdog)
['__class__', 'deinit', 'feed', 'mode', 'timeout']
>>> help(microcontroller.watchdog)
object <WatchDogTimer> is of type WatchDogTimer
feed -- <function>
deinit -- <function>
timeout -- <property>
mode -- <property>

>>> import watchdog
>>> dir(watchdog)
['__class__', '__name__', 'WatchDogMode', 'WatchDogTimeout']
>>> help(watchdog)
object <module 'watchdog'> is of type module
__name__ -- watchdog
WatchDogMode -- <class 'WatchDogMode'>
WatchDogTimeout -- <class 'WatchDogTimeout'>

>>> microcontroller.cpu.uid
bytearray(b'\xc7\xfd\x1aI\xb8g')
>>> microcontroller.cpu.temperature
39.4348
>>> microcontroller.cpu.reset_reason
microcontroller.ResetReason.SOFTWARE
>>> str(microcontroller.cpu.reset_reason)
'microcontroller.ResetReason.SOFTWARE'

=============================================================================
Catch network exceptions.  When modem was rebooted...
# TODO handle ECONNECT exception

b'<158>1 2022-07-08T03:31:32Z 192.168.1.65 dust - - - "2022-07-08T03:31:32Z",15.5,68.7,74535,0.464,1.0,1.0,1.0,1.0,7,8,8,8,8'
b'<158>1 2022-07-08T03:36:33Z - dust - - - "2022-07-08T03:36:33Z",15.3,69.3,74547,0.474,0.9,1.0,1.0,1.0,6,7,7,7,7'
Traceback (most recent call last):
  File "code.py", line 4, in <module>
  File "main.py", line 212, in <module>
  File "main.py", line 149, in WriteCsvData
  File "main.py", line 134, in WriteToSyslog
OSError: [Errno 113] ECONNABORTED

Code done running.

Press any key to enter the REPL. Use CTRL-D to reload.

=============================================================================
